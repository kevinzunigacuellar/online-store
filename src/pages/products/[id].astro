---
import Layout from "../../layouts/Layout.astro";
import products from "../../data/products.json";

const { id } = Astro.params;

if (!id) {
  return Astro.redirect("/404");
}
const product = products.find((product) => product.id === parseInt(id));
if (!product) {
  return Astro.redirect("/404");
}
---

<Layout title={product.title}>
  <article class="container">
    <img src={product.image} alt={product.title} />
    <div>
      <h1>{product.title}</h1>
      <p>$ {product.price.toFixed(2)}</p>
      <p>Counter</p>
      <button>Add to cart</button>
      <p>{product.description}</p>
    </div>
  </article>
</Layout>

<style>
  .container {
    display: flex;
    flex-direction: column;
  }
  img {
    width: 100%;
    margin-bottom: 1rem;
    border-radius: 10px;
  }
  article div {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
    max-width: 500px;
  }
  article h1 {
    font-size: 1.75rem;
    font-weight: 500;
  }
  article p {
    line-height: 1.625;
  }
  button {
    background-color: #facc15;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  @media (min-width: 768px) {
    .container {
      flex-direction: row;
      gap: 2rem;
    }

    article h1 {
      font-size: 2.25rem;
    }

    img {
      margin-bottom: 0;
    }
  }
</style>
